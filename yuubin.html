<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>郵便番号検索</title>
  <script>
    function getAddress() {
      var zip = document.getElementById("zip");
      var url = "http://zipcloud.ibsnet.co.jp/api/search?zipcode=" + zip.value;

      var req = new XMLHttpRequest();
      req.onreadystatechange = function() {
        updatePage(req);
      };
      req.open("GET", url, true);
      req.send(null);
    }

    function updatePage(request) {
      if (request.readyState == 4) {
        if (request.status == 200) {
          var json = JSON.parse(request.responseText);

          var address = "";
          address = json.results[0].address1 + json.results[0].address2 + json.results[0].address3;
          var result = document.getElementById("result");
          result.innerHTML = address;
        }
      }
    }

  </script>
</head>

<body>
  <h1>郵便番号検索ページ</h1>
  <hr>
  <input id="zip" type="text">
  <input id="search" type="button" value="検索" onClick="getAddress();">
  <hr>
  <p id="result"></p>
</body>

</html>
